Макросы позволяют включать в программу сгенерированный код (т.е. выражения).

|                 |                                                            |
| --------------- | ---------------------------------------------------------- |
| Определение     | `macro macroname(expr)`<br>`    # do stuff`<br>`end`       |
| Использование   | `@macroname(ex1, ex2, ...)` or `@macroname ex1 ex2 ...`   |
| Встроенные макро| `@test           # равенство (точное)`<br>`@test x ≈ y    # isapprox(x, y)`<br>`@assert         # assert (модульный тест)`<br>`@which          # использованные типы`<br>`@time           # время и память, использованные выражение`<br>`@elapsed        # время исполнения выражения`<br>`@allocated      # выделенная память`<br>`@profile        # профилировать`<br>`@spawnat          # асинхронно выполнить в определённом процессе`<br>`@spawnat        # run at specified worker`<br>`@async          # асинхронная задача`<br>`@distributed    # параллельный цикл for`<br>`@everywhere     # выполнить во всех процессах` |


Парвила создания *гигиенических*[^1] макросов:

- Декларируйте переменные внутри макро как `local`.
- Не вызывайте `eval` внутри макро.
- Экранируйте интерполированные выражения, чтобы избежать расширения: `$(esc(expr))`

[^1]: Гигиенические макросы — это макросы, раскрытие которых гарантированно не вызовет случайного захвата идентификаторов.
